{"version":3,"file":"dark.js","mappings":"MAAA,IA2C6BA,EA1CvBC,EAAsBC,EAAE,qBAcxBC,EAA8B,SAACC,GAC/BA,EACFH,EAAoBI,YAAY,6BAEhCJ,EAAoBK,SAAS,8BAK3BC,EAAkB,SAAUP,GAChCG,GAA4B,GACyB,IAAjDD,EAAE,cAAD,OAAeF,EAAf,mBAAqCQ,QACxCN,EAAE,UACCO,KAAK,CACJC,IAAK,aACLC,KAAM,WACNC,KAAM,GAAF,OAAKZ,EAAL,kBAELa,SAAS,QACZC,aAAaC,mBAAqB,SAElCb,EAAE,cAAD,OAAeF,EAAf,mBAAqCgB,SACtCF,aAAaC,mBAAqB,SAEpCZ,GAA4B,IAU5BA,GAA4B,GANDH,EAWHiB,OAAOC,SAASlB,MAVgB,IAAjDE,EAAE,cAAD,OAAeF,EAAf,mBAAqCQ,OAAe,QAAU,UAjCxC,eALQW,IAApCL,aAAaC,mBACTD,aAAaC,mBACbE,OAAOG,WAAW,gCAAgCC,QAClD,OACA,SACiC,OAAS,UA4C9Cd,EAAgBU,OAAOC,SAASlB,MAGlCC,EAAoBqB,OAAM,WACxBf,EAAgBU,OAAOC,SAASlB,SAGlCG,GAA4B,I","sources":["webpack://hexo-theme-archer/./src/js/dark.js"],"sourcesContent":["let currentThemeMode\nconst $themeModeSwitchBtn = $('.header-theme-btn')\n\n// 获取当前主题颜色模式\nconst getPreferredThemeMode = function () {\n  const preferredThemeMode =\n    localStorage.preferredThemeMode !== undefined\n      ? localStorage.preferredThemeMode\n      : window.matchMedia('(prefers-color-scheme: dark)').matches\n      ? 'dark'\n      : 'light'\n  return preferredThemeMode === 'dark' ? 'dark' : 'light'\n}\n\n// 设置按钮可点击\nconst setThemeModeSwitchBtnActive = (active) => {\n  if (active) {\n    $themeModeSwitchBtn.removeClass('header-theme-btn-disabled')\n  } else {\n    $themeModeSwitchBtn.addClass('header-theme-btn-disabled')\n  }\n}\n\n// 切换主题颜色模式\nconst switchThemeMode = function (root) {\n  setThemeModeSwitchBtnActive(false)\n  if ($(`LINK[href='${root}css/dark.css']`).length === 0) {\n    $('<link>')\n      .attr({\n        rel: 'stylesheet',\n        type: 'text/css',\n        href: `${root}css/dark.css`,\n      })\n      .appendTo('head')\n    localStorage.preferredThemeMode = 'dark'\n  } else {\n    $(`LINK[href='${root}css/dark.css']`).remove()\n    localStorage.preferredThemeMode = 'light'\n  }\n  setThemeModeSwitchBtnActive(true)\n}\n\n// 获取当前的主题颜色模式\nconst getCurrentThemeMode = (root) => {\n  return $(`LINK[href='${root}css/dark.css']`).length === 0 ? 'light' : 'dark'\n}\n\n// 初始化切换主题颜色模式功能\nconst initThemeModeSwitchButton = function () {\n  setThemeModeSwitchBtnActive(false)\n\n  // 默认情况下，当前主题颜色为系统偏好的颜色，\n  // 而当前主题颜色模式与用户偏好的主题颜色模式不同时，\n  // 切换主题颜色模式\n  if (getCurrentThemeMode(window.siteMeta.root) !== getPreferredThemeMode()) {\n    switchThemeMode(window.siteMeta.root)\n  }\n\n  $themeModeSwitchBtn.click(function () {\n    switchThemeMode(window.siteMeta.root)\n  })\n\n  setThemeModeSwitchBtnActive(true)\n}\n\ninitThemeModeSwitchButton()\n"],"names":["root","$themeModeSwitchBtn","$","setThemeModeSwitchBtnActive","active","removeClass","addClass","switchThemeMode","length","attr","rel","type","href","appendTo","localStorage","preferredThemeMode","remove","window","siteMeta","undefined","matchMedia","matches","click"],"sourceRoot":""}