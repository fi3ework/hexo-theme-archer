!function(e){var t={};function a(s){if(t[s])return t[s].exports;var i=t[s]={exports:{},id:s,loaded:!1};return e[s].call(i.exports,i,i.exports,a),i.loaded=!0,i.exports}a.m=e,a.c=t,a.p="",a(0)}([function(e,t,a){"use strict";var s=a(1),i=a(2),n=a(4),r=a(5),o=a(6);console.info("hexo-theme-archer: v20180109"),(0,s.init)(),(0,i.scroll)(),(0,r.sidebarInit)(),(0,o.initTag)(),(0,n.initMobile)()},function(e,t){"use strict";Object.defineProperty(t,"__esModule",{value:!0});document.addEventListener("DOMContentLoaded",function(){$(".container").removeClass("container-unloaded"),$(".footer").removeClass("footer-unloaded"),$(".loading").remove()},!1),t.init=function(){var e=$(".site-intro-img:first"),t=$(".site-intro-placeholder:first"),a=e.css("background-image").match(/url\("*([^"]*)"*\)/);if(a.length<2)console.log(a);else{var s=a[1],i=new Image;i.onload=function(){t.remove(),console.info("PLACEHOLDER REMOVED")},i.src=s}}},function(e,t,a){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.scroll=void 0;var s,i=a(3),n=(s=i)&&s.__esModule?s:{default:s};t.scroll=function(){var e=$(".banner:first"),t=e.find(".post-title a"),a=$(".site-intro:first"),s=$(".home-link:first"),i=$(".back-top:first"),r=$(".header-sidebar-menu:first"),o=a.offset().top+a.outerHeight(),d=$(".toc-wrapper:first"),l=d.find(".toc-catalog"),c=$(".read-progress");l.on("click",function(){d.toggleClass("toc-hide-children")});var f=0,u=0;var h=-1,v=!0;var m=!1,p=void 0,g=void 0;$(".post-body").length&&(m=!0,g=o,p=$(".article-entry").outerHeight(),p=$(".container")[0].addEventListener("transitionend",function(){p=$(".article-entry").outerHeight()}));var b=!1;function w(t){var a,n,l,w,C,M=function(e){if(e>o){if(1!==h)return h=1,v=!1,1}else if(-1!==h)return h=-1,v=!0,-1;return 0}(t);if(1===M?(d.addClass("toc-fixed"),s.addClass("home-link-hide"),i.addClass("back-top-show"),r.addClass("header-sidebar-menu-black")):-1===M&&(d.removeClass("toc-fixed"),s.removeClass("home-link-hide"),e.removeClass("banner-show"),i.removeClass("back-top-show"),r.removeClass("header-sidebar-menu-black")),m){var k=(u+=t-f)>30?(u=0,1):u<-800?(u=0,-1):0;1===k?e.removeClass("banner-show"):-1!==k||v||e.addClass("banner-show"),a=t,n=g,l=p,w=$(window).height(),C=void 0,C=(C=a<o?0:(a-n)/(l-w)*100)>=0?C:100,c.css("width",C+"%")}f=t,b=!1}$(document).on("scroll",function(){var e=$(document).scrollTop(),t=w.bind(null,e);n.default.rafTick(b,t)}),[t,i].forEach(function(e){e.on("click",n.default.backTop)})}},function(e,t){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var a={backTop:function(e){e.preventDefault();var t=setInterval(function(){var e=$(document).scrollTop();window.scrollTo(0,Math.max(Math.floor(.8*e))),0===e&&clearInterval(t)},20)},getAbsPosition:function(e){for(var t=e.offsetLeft,a=e.offsetTop;e=e.offsetParent;)t+=e.offsetLeft,a+=e.offsetTop;return{x:t,y:a}},dateFormater:function(e,t){var a={"M+":e.getMonth()+1,"d+":e.getDate(),"h+":e.getHours(),"m+":e.getMinutes(),"s+":e.getSeconds(),"q+":Math.floor((e.getMonth()+3)/3),S:e.getMilliseconds()};for(var s in/(y+)/.test(t)&&(t=t.replace(RegExp.$1,String(e.getFullYear()).substr(4-RegExp.$1.length))),a)new RegExp("("+s+")").test(t)&&(t=t.replace(RegExp.$1,1===RegExp.$1.length?a[s]:("00"+a[s]).substr(String(a[s]).length)));return t},rafTick:function(e,t){e||requestAnimationFrame(t),e=!0}};t.default=a},function(e,t){"use strict";Object.defineProperty(t,"__esModule",{value:!0});t.initMobile=function(){if(window.matchMedia){var e=window.matchMedia("(max-width: 900px)");e.addListener(t),t(e)}else window.addListener("resize",function(){t((window.innerWidth||document.documentElement.clientWidth||document.body.clientWidth)>900?{matches:!1}:{matches:!0})},!1);function t(e){e.matches?(console.log("mobile"),document.body.addEventListener("touchstart",function(){})):console.log("desktop")}}},function(e,t){"use strict";Object.defineProperty(t,"__esModule",{value:!0});t.sidebarInit=function(){var e=$(".sidebar:first"),t=$(".wrapper:first"),a=$(".header-sidebar-menu:first"),s=e.find(".sidebar-content:first"),i=e.find(".sidebar-archive-link:first"),n=e.find(".sidebar-tags-link:first"),r=$(".toc-wrapper:first"),o=$(".header:first"),d=e.find(".sidebar-header:first");function l(e){this.scrollHeight===this.clientHeight?window.event.preventDefault():this.scrollTop<=0?e.originalEvent.wheelDelta>0&&window.event.preventDefault():this.scrollTop>=this.scrollHeight-this.clientHeight&&e.originalEvent.wheelDelta<0&&window.event.preventDefault()}a.on("click",function(a){var s;s=a,e.addClass("sidebar-show"),t.addClass("wrapper-slide"),o.addClass("header-slide"),r.addClass("toc-slide"),s.stopPropagation()}),e.on("click",function(e){e.stopPropagation()}),t.on("click",function(a){e.hasClass("sidebar-show")&&(a.preventDefault(),e.removeClass("sidebar-show"),o.removeClass("header-slide"),t.removeClass("wrapper-slide"),r.removeClass("toc-slide"))}),i.on("click",function(){s.addClass("sidebar-content-show-archive").removeClass("sidebar-content-show-tags sidebar-show-immediately"),d.addClass("sidebar-header-show-archive").removeClass("sidebar-header-show-tags sidebar-show-immediately")}),n.on("click",function(){s.addClass("sidebar-content-show-tags").removeClass("sidebar-content-show-archive sidebar-show-immediately"),d.addClass("sidebar-header-show-tags").removeClass("sidebar-header-show-archive sidebar-show-immediately")}),e.on("mousewheel",function(t){var a=t.target,s=e.find(".sidebar-tag-list:first"),i=e.find(".sidebar-archive:first");$.contains(s[0],a)||s===a?l.call(s[0],t):$.contains(i[0],a)||i===a?l.call(i[0],t):t.preventDefault()}),$(".post-tag").on("click",function(t){var i,r;i=!1,r=new MouseEvent("click",{bubbles:!0,cancelable:!0}),i=!(!d.hasClass("sidebar-header-show-archive")||e.hasClass("sidebar-show")),a[0].dispatchEvent(r),n[0].dispatchEvent(r),i&&(d.addClass("sidebar-show-immediately"),s.addClass("sidebar-show-immediately"));var o,l,c,f=t.target.dataset.href;o=f,l=$(".sidebar-tags-name:first")[0],c=new MouseEvent("click",{bubbles:!0,cancelable:!0}),a[0].dispatchEvent(c),l.currTagName=o,l.dispatchEvent(c),t.stopPropagation()})}},function(e,t,a){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.initTag=void 0;var s,i=a(3),n=(s=i)&&s.__esModule?s:{default:s};t.initTag=function(){var e=void 0,t=new Map;!function(){var a=jsInfo.root+"content.json?t="+Number(new Date),s=new XMLHttpRequest;s.responseType="",s.open("get",a,!0);var i=$(".tag-load-fail:first");s.onload=function(){if(200===this.status||304===this.status){i.remove();var a=JSON.parse(this.responseText);a&&(e=a.posts),e&&e.length&&function(e){for(var a=this,s=function(s){var i=e[s].tags;i.length&&i.forEach(function(e){if(t.has(e.name)){var a=t.get(e.name)+","+s.toString();t.set(e.name,a)}else t.set(e.name,s.toString())},a)},i=0;i<e.length;i++)s(i)}(e)}else i[0].style.display="block",$(".sidebar-tags-name:first").remove()},s.send()}(),$(".sidebar-tags-name:first").on("click",function(a){a.preventDefault();var s=a.target;16&this.compareDocumentPosition(s)&&("SPAN"===s.tagName?this.currTagName=s.firstChild.innerHTML:this.currTagName=s.innerHTML);var i=t.get(this.currTagName);if(i){$(this).find(".sidebar-tag-name-focus").removeClass("sidebar-tag-name-focus");for(var r=this.children,o=0;o<r.length;o++)this.currTagName===r[o].firstChild.innerHTML&&r[o].classList.add("sidebar-tag-name-focus");var d=i.split(","),l=document.createDocumentFragment(),c=$(".sidebar-tag-list")[0];c.innerHTML="",d.forEach(function(t){var a,s,i;l.appendChild((a=e[t],s=$('<li class="tag-post-item"><span class="tag-post-date">'+n.default.dateFormater(new Date(Date.parse(a.date)),"yyyy/MM/dd")+"</span></li>"),i=$('<a class="tag-post-title" href="'+jsInfo.root+a.path+'">'+a.title+"</a>"),s.append(i),s)[0])}),c.appendChild(l)}})}}]);